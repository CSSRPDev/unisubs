{% load i18n dropdown %}

{% if sync_history %}
<div class="listView syncHistoryList">
  
  <div class="listView-header syncHistoryList-title">{% trans 'Title' %}</div>
  <div class="listView-header syncHistoryList-channel">{% trans 'Channel' %}</div>
  <div class="listView-header syncHistoryList-platform">{% trans 'Platform' %}</div>
  <div class="listView-header syncHistoryList-language">{% trans 'Language' %}</div>
  <div class="listView-header listView-actions"></div>
  {% for i in sync_history %}
    <div class="syncHistoryList-title">{{i.video_url.video.title}}</div>
    <div class="syncHistoryList-channel">{{i.get_account.readable_account_name}}</div>
    <div class="syncHistoryList-platform">{{i.get_account.readable_account_type}}</div>
    <div class="syncHistoryList-language">{{i.language.get_language_code_display}}</div>
    <div class="listView-actions">

      <!-- we put the SubtitleLanguage primary key in the button for simplicity -->
      <button class="listView-action syncHistoryList-action-sync"
              data-sl-pk="{{ i.language.pk }}"
              data-ajax-url="{% url 'externalsites:export-subtitles' %}">
        <span class="fa fa-cloud-upload-alt"></span>
      </button>
    </div>
  {% endfor %}  
  
</div>

{% else %}

<div class="zero-state">
  {% trans 'No sync history' %}
</div>

{% endif %}
